/* eslint-disable */
"\x75\x73\x65\x20\x73\x74\x72\x69\x63\x74";Object["\x64\x65\x66\x69\x6E\x65\x50\x72\x6F\x70\x65\x72\x74\x79"](exports,"\x5F\x5F\x65\x73\x4D\x6F\x64\x75\x6C\x65",{value:true});var _firebase=require("\x66\x69\x72\x65\x62\x61\x73\x65");var firebase=_interopRequireWildcard(_firebase);require("\x66\x69\x72\x65\x62\x61\x73\x65\x2F\x66\x69\x72\x65\x73\x74\x6F\x72\x65");function _interopRequireWildcard(obj){if(obj&& obj["\x5F\x5F\x65\x73\x4D\x6F\x64\x75\x6C\x65"]){return obj}else {var newObj={};if(obj!= null){for(var key in obj){if(Object["\x70\x72\x6F\x74\x6F\x74\x79\x70\x65"]["\x68\x61\x73\x4F\x77\x6E\x50\x72\x6F\x70\x65\x72\x74\x79"]["\x63\x61\x6C\x6C"](obj,key)){newObj[key]= obj[key]}}};newObj["\x64\x65\x66\x61\x75\x6C\x74"]= obj;return newObj}}var config={apiKey:"\x41\x49\x7A\x61\x53\x79\x41\x35\x49\x56\x47\x5A\x4D\x35\x7A\x47\x53\x50\x5F\x6B\x49\x33\x76\x73\x74\x47\x36\x30\x61\x34\x37\x74\x70\x78\x6E\x5F\x35\x6C\x73",authDomain:"\x67\x61\x73\x74\x63\x6F\x6C\x65\x67\x65\x76\x75\x65\x2E\x66\x69\x72\x65\x62\x61\x73\x65\x61\x70\x70\x2E\x63\x6F\x6D",databaseURL:"\x68\x74\x74\x70\x73\x3A\x2F\x2F\x67\x61\x73\x74\x63\x6F\x6C\x65\x67\x65\x76\x75\x65\x2E\x66\x69\x72\x65\x62\x61\x73\x65\x69\x6F\x2E\x63\x6F\x6D",projectId:"\x67\x61\x73\x74\x63\x6F\x6C\x65\x67\x65\x76\x75\x65",storageBucket:"\x67\x61\x73\x74\x63\x6F\x6C\x65\x67\x65\x76\x75\x65\x2E\x61\x70\x70\x73\x70\x6F\x74\x2E\x63\x6F\x6D",messagingSenderId:"\x36\x38\x38\x31\x39\x31\x31\x31\x33\x38\x37\x35"};var db=firebase["\x69\x6E\x69\x74\x69\x61\x6C\x69\x7A\x65\x41\x70\x70"](config)["\x66\x69\x72\x65\x73\x74\x6F\x72\x65"]();var uid=void(0);firebase["\x61\x75\x74\x68"]()["\x73\x69\x67\x6E\x49\x6E\x41\x6E\x6F\x6E\x79\x6D\x6F\x75\x73\x6C\x79"]()["\x74\x68\x65\x6E"](function(result){uid= result["\x75\x69\x64"]})["\x63\x61\x74\x63\x68"](function(error){return console["\x65\x72\x72\x6F\x72"](error)});exports["\x64\x65\x66\x61\x75\x6C\x74"]= {login:function login(name){db["\x63\x6F\x6C\x6C\x65\x63\x74\x69\x6F\x6E"]("\x75\x73\x65\x72\x73")["\x64\x6F\x63"](uid)["\x73\x65\x74"]({name:name},{merge:true})["\x74\x68\x65\x6E"](function(){})["\x63\x61\x74\x63\x68"](function(error){console["\x65\x72\x72\x6F\x72"]("\x45\x72\x72\x6F\x72\x20\x77\x72\x69\x74\x69\x6E\x67\x20\x64\x6F\x63\x75\x6D\x65\x6E\x74\x3A\x20",error)});return uid},subscribeUsers:function subscribeUsers(cb){db["\x63\x6F\x6C\x6C\x65\x63\x74\x69\x6F\x6E"]("\x75\x73\x65\x72\x73")["\x6F\x6E\x53\x6E\x61\x70\x73\x68\x6F\x74"](function(snapshot){snapshot["\x64\x6F\x63\x43\x68\x61\x6E\x67\x65\x73"]["\x66\x6F\x72\x45\x61\x63\x68"](function(change){cb({type:change["\x74\x79\x70\x65"],user:{id:change["\x64\x6F\x63"]["\x69\x64"],data:change["\x64\x6F\x63"]["\x64\x61\x74\x61"]()}})})})},addUsersAsFriend:function addUsersAsFriend(friendId){db["\x63\x6F\x6C\x6C\x65\x63\x74\x69\x6F\x6E"]("\x75\x73\x65\x72\x73")["\x64\x6F\x63"](uid)["\x67\x65\x74"]()["\x74\x68\x65\x6E"](function(doc){var user=doc["\x64\x61\x74\x61"]();user["\x66\x72\x69\x65\x6E\x64\x73"]= user["\x66\x72\x69\x65\x6E\x64\x73"]|| [];user["\x66\x72\x69\x65\x6E\x64\x73"]["\x70\x75\x73\x68"](friendId);db["\x63\x6F\x6C\x6C\x65\x63\x74\x69\x6F\x6E"]("\x75\x73\x65\x72\x73")["\x64\x6F\x63"](uid)["\x73\x65\x74"](user,{merge:true})})},sendMessage:function sendMessage(to,message){db["\x63\x6F\x6C\x6C\x65\x63\x74\x69\x6F\x6E"]("\x6D\x65\x73\x73\x61\x67\x65\x73")["\x61\x64\x64"]({from:uid,to:to,message:message,time:Date["\x6E\x6F\x77"]()})},subscribeMessages:function subscribeMessages(cb){db["\x63\x6F\x6C\x6C\x65\x63\x74\x69\x6F\x6E"]("\x6D\x65\x73\x73\x61\x67\x65\x73")["\x77\x68\x65\x72\x65"]("\x74\x6F","\x3D\x3D","\x67\x6C\x6F\x62\x61\x6C")["\x6F\x6E\x53\x6E\x61\x70\x73\x68\x6F\x74"](function(snapshot){snapshot["\x64\x6F\x63\x43\x68\x61\x6E\x67\x65\x73"]["\x66\x6F\x72\x45\x61\x63\x68"](function(change){cb({type:change["\x74\x79\x70\x65"],message:{id:change["\x64\x6F\x63"]["\x69\x64"],data:change["\x64\x6F\x63"]["\x64\x61\x74\x61"]()}})})});db["\x63\x6F\x6C\x6C\x65\x63\x74\x69\x6F\x6E"]("\x6D\x65\x73\x73\x61\x67\x65\x73")["\x77\x68\x65\x72\x65"]("\x74\x6F","\x3D\x3D",uid)["\x6F\x6E\x53\x6E\x61\x70\x73\x68\x6F\x74"](function(snapshot){snapshot["\x64\x6F\x63\x43\x68\x61\x6E\x67\x65\x73"]["\x66\x6F\x72\x45\x61\x63\x68"](function(change){cb({type:change["\x74\x79\x70\x65"],message:{id:change["\x64\x6F\x63"]["\x69\x64"],data:change["\x64\x6F\x63"]["\x64\x61\x74\x61"]()}})})})}}

